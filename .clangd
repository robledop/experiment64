CompileFlags:
  Add:
    - -I.
    - -Iinclude
    - -std=c23
    - -ffreestanding
    - -nostdlib
    - -m64
    - -march=x86-64
    - -masm=intel
    - -mno-80387
    - -mno-red-zone
    - -Wall
    - -Wextra
    - --target=x86_64-pc-none-elf

---

# Userland-specific flags so clangd can find the custom libc headers.
If:
  PathMatch: "user/.*"
CompileFlags:
  Add:
    - -Iuser/libc/include
    - -nostdlib
    - -static
    - -fPIE
    - -m64
    - -march=x86-64
    - -masm=intel
    - -g
    - -Wa,--noexecstack
    - --target=x86_64-pc-none-elf
